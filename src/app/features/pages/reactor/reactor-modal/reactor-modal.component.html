<form [formGroup]="reactorForm" (ngSubmit)="onSubmit()">
  <div class="mb-4">
    <label
      for="reactorName"
      class="block text-sm font-medium text-gray-700 ml-2 mb-2"
    >
      Name
    </label>

    <input
      pInputText
      id="reactorName"
      formControlName="name"
      class="w-full border border-gray-300 rounded-md p-2"
      placeholder="Enter reactor name"
      type="text"
    />

    @if (formControls['name'].invalid && (formControls['name'].dirty ||
    formControls['name'].touched)) { @if
    (formControls['name'].errors?.['required']) {
    <small class="text-red-600">Reactor Name is required.</small>
    } }
  </div>

  <div class="mb-4">
    <label
      for="reactorStatus"
      class="block text-sm font-medium text-gray-700 ml-2 mb-2"
    >
      Status
    </label>

    <p-select
      formControlName="status"
      class="w-full"
      appendTo="body"
      [options]="statusOptions()"
      placeholder="Select status"
      checkmark="true"
      focusOnHover="true"
    />
    @if (formControls['status'].invalid && (formControls['status'].dirty ||
    formControls['status'].touched)) { @if
    (formControls['status'].errors?.['required']) {
    <small class="text-red-600">Reactor Status is required.</small>
    } }
  </div>

  <div class="mb-4">
    <label
      for="reactorStatus"
      class="block text-sm font-medium text-gray-700 ml-2 mb-2"
    >
      Pathway
    </label>

    <p-select
      formControlName="pathway"
      class="w-full"
      focusOnHover="true"
      appendTo="body"
      checkmark="true"
      [options]="pathwayOptions()"
      placeholder="Select pathway"
    />
    @if (formControls['pathway'].invalid && (formControls['pathway'].dirty ||
    formControls['pathway'].touched)) { @if
    (formControls['pathway'].errors?.['required']) {
    <small class="text-red-600">Reactor Pathway is required.</small>
    } }
  </div>
  <div class="mb-4">
    @if (reactorData?.pdfUrl) {
    <div class="flex items-center gap-3 border border-gray-300 rounded-md p-3">
      <a
        href="{{ reactorData?.pdfUrl }}"
        class="text-blue-600 hover:text-blue-800 underline text-sm flex items-center gap-1"
        target="_blank"
      >
        <i class="pi pi-file-pdf"></i>
        Reactor File</a
      >
      <button
        pButton
        severity="warn"
        size="small"
        icon="pi pi-times"
        (click)="removeFile()"
        [loading]="removeLoading()"
        type="button"
      >
        Remove
      </button>
    </div>
    } @else {
    <p-fileUpload
      mode="advanced"
      chooseLabel="Pdf"
      [auto]="true"
      (onSelect)="onFileSelect($event, 'tgaFile')"
      accept=".pdf"
      [maxFileSize]="10000000"
    ></p-fileUpload>
    }
  </div>

  <button
    pButton
    type="submit"
    label="Submit"
    [disabled]="reactorForm.invalid"
    [loading]="loading()"
  ></button>
</form>
